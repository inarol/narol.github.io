(function(t){function e(e){for(var r,s,a=e[0],c=e[1],u=e[2],h=0,f=[];h<a.length;h++)s=a[h],i[s]&&f.push(i[s][0]),i[s]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(t[r]=c[r]);l&&l(e);while(f.length)f.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],r=!0,a=1;a<n.length;a++){var c=n[a];0!==i[c]&&(r=!1)}r&&(o.splice(e--,1),t=s(s.s=n[0]))}return t}var r={},i={app:0},o=[];function s(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=r,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)s.d(n,r,function(e){return t[e]}.bind(null,r));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],c=a.push.bind(a);a.push=e,a=a.slice();for(var u=0;u<a.length;u++)e(a[u]);var l=c;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("cd49")},"034f":function(t,e,n){"use strict";var r=n("64a9"),i=n.n(r);i.a},"1a95":function(t,e,n){},"64a9":function(t,e,n){},cd49:function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("f751"),n("097d");var r=n("2b0e"),i=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"app"}},[r("img",{attrs:{alt:"Vue logo",src:n("cf05")}}),r("HelloWorld")],1)},o=[],s=n("d225"),a=n("308d"),c=n("6bb5"),u=n("4e2b"),l=n("9ab4"),h=n("60a3"),f=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"hello"},[t._l(t.list,function(e,r){return n("p",{key:r},[t._v("\n    "+t._s(e.email)+"\n  ")])}),n("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],attrs:{type:"text"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}}),n("button",{on:{click:t.submit}},[t._v("submit")])],2)},p=[],b=n("b0b4"),v=n("2fe1");v["b"].registerHooks(["onLaunch","onShow","onHide","onLoad","onReady","onUnload","onResize","onPullDownRefresh","onReachBottom","onPageScroll","onShareAppMessage"]);v["b"];function d(t){return Object(v["a"])(function(e,n){e.models=e.models||{},e.models[n]=t})}var m,y=n("aede"),O=(n("96cf"),n("3b8d"));n("5df3"),n("456d"),n("ac6a");function g(t,e,n,r,i){return m.util.defineReactive(t,e,n,r,i)}function j(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};m=t,t.mixin({created:function(){var t=Object(O["a"])(regeneratorRuntime.mark(function t(){var n,r,i=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(n=e.store||this.$root.$options.store,r=this.$options.models,r&&n){t.next=4;break}return t.abrupt("return");case 4:return Object.defineProperty(this,"$client",{get:function(){return n.graphqlClient},configurable:!0}),Object.keys(r).forEach(function(t){var e=r[t],o=n.registerModel(e);if(!o.count){var s=new o.constructor(n.graphqlClient,i.$root,n);s.init(),o.instance=s}if(o.count++,t in i)throw new Error("There has a duplex name ".concat(t," on ").concat(i.$vnode.tag));Object.defineProperty(i,t,{get:function(){return o.instance},configurable:!0})}),t.next=8,this.$nextTick();case 8:Object.keys(r).forEach(function(t){i.$isServer||i[t].startSubscriptions()});case 9:case"end":return t.stop()}},t,this)}));function n(){return t.apply(this,arguments)}return n}(),serverPrefetch:function(){var t=Object(O["a"])(regeneratorRuntime.mark(function t(){var n,r=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(this.$options.models){t.next=2;break}return t.abrupt("return");case 2:return n=Object.keys(this.$options.models).map(function(t){var n=e.store||r.$root.$options.store,i=n.getModelInstance(r.$options.models[t]);return i.instance.prefetch()}),t.next=5,Promise.all(n);case 5:case"end":return t.stop()}},t,this)}));function n(){return t.apply(this,arguments)}return n}(),beforeDestroy:function(){var t=this,n=e.store||this.$root.$options.store,r=this.$options.models;r&&n&&(Object.defineProperty(this,"$client",{get:function(){return null}}),Object.keys(r).forEach(function(e){var i=r[e],o=n.getModelInstance(i);o.count--,0===o.count&&(o.instance.destroy(),o.instance=null),Object.defineProperty(t,e,{get:function(){return null},configurable:!0})}))}})}n("f400");var k=function(){function t(e){Object(s["a"])(this,t),this.modelMap=new Map,this.graphqlClient=e}return Object(b["a"])(t,[{key:"getModelInstance",value:function(t){return this.modelMap.get(t)}},{key:"registerModel",value:function(t){if(this.modelMap.has(t))return this.modelMap.get(t);var e={constructor:t,instance:null,count:0};return this.modelMap.set(t,e),e}},{key:"exportStates",value:function(){return{defaultClient:this.graphqlClient.cache.extract()}}}]),t}(),$=(n("8e6e"),n("6762"),n("aef6"),n("f559"),n("bd86")),w=(n("0d6d"),n("75fc")),P=n("b1cc"),S=n.n(P);n("7f7f");function x(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function M(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?x(n,!0).forEach(function(e){Object($["a"])(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):x(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var E=function(){function t(e,n,r,i,o){Object(s["a"])(this,t),this.observable=S.a.create(),this.listeners=[],this.hasPrefetched=!1,this.loading=!1,this.name=e,this.option=n,this.client=r,this.model=i,this.vm=o,this.init()}return Object(b["a"])(t,[{key:"currentResult",value:function(){return this.observer?this.observer.currentResult():{loading:!0,data:{}}}},{key:"prefetch",value:function(){var t=Object(O["a"])(regeneratorRuntime.mark(function t(){var e,n,r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(e="function"===typeof this.option.prefetch?this.option.prefetch.call(this.model,this.vm.$route):this.option.prefetch,e&&!this.hasPrefetched){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,this.client.query(this.queryOptions);case 5:return n=t.sent,r=n.data,this.hasPrefetched=!0,this.model[this.name]=r,t.abrupt("return",Object($["a"])({},this.name,r));case 10:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},{key:"initObserver",value:function(){var t=this;this.observer=this.client.watchQuery(this.queryOptions),this.loading=!0,this.observer.subscribe({next:function(e){var n=e.data,r=e.loading;t.loading=r,t.observable.shamefullySendNext({data:n,loading:r})},error:function(e){t.observable.shamefullySendError(e)},complete:function(){t.observable.shamefullySendComplete()}})}},{key:"init",value:function(){var t=this;if(g(this,"loading",!1),this.skip||this.initObserver(),"function"===typeof this.option.variables){var e=this.vm.$watch(function(){return t.variables},this.changeVariables.bind(this));this.listeners.push(e)}if("function"===typeof this.option.skip){var n=this.vm.$watch(function(){return t.skip},this.changeVariables.bind(this));this.listeners.push(n)}}},{key:"changeVariables",value:function(){var t=Object(O["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.vm.$nextTick();case 2:if(!this.skip){t.next=4;break}return t.abrupt("return");case 4:this.observer?this.observer.refetch(this.variables):this.initObserver();case 5:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},{key:"destroy",value:function(){this.listeners.forEach(function(t){return t()}),this.listeners=[]}},{key:"fetchMore",value:function(t){return this.loading=!0,this.observer.fetchMore(t)}},{key:"refetch",value:function(){return this.loading=!0,this.observer.refetch()}},{key:"queryOptions",get:function(){return M({},this.option,{variables:this.variables,skip:this.skip})}},{key:"skip",get:function(){return"function"===typeof this.option.skip?this.option.skip.call(this.model,this.vm.$route):this.option.skip}},{key:"variables",get:function(){return this.option.variables&&"function"===typeof this.option.variables?this.option.variables.call(this.model,this.vm.$route):this.option.variables}}]),t}(),R=n("42454"),_=n.n(R);function F(t){var e={},n=t.name.value;return t.selectionSet?(e[n]={},t.selectionSet.selections.forEach(function(t){"name"in t&&(e[n][t.name.value]=null)}),e):(e[n]=null,e)}function D(t){var e={},n=t.query;if(!n)throw new Error("Query 里面没有 Query 么");var r=n.definitions;return r.forEach(function(t){"selectionSet"in t&&t.selectionSet.selections.forEach(function(t){"Field"===t.kind&&Object.assign(e,F(t))})}),_()({},e,t.initState||{})}function q(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function Q(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?q(n,!0).forEach(function(e){Object($["a"])(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):q(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var A=["models","subscriptions"],C=function(){function t(e,n,r){Object(s["a"])(this,t),this.subs=[],this.$apollo={},this.$streamsFromApollo={},this.$streamsFromSubscriptions={},this.$streamsFromState={},this.inited=!1,this.$vm=n,this.$store=r,this.$client=e}return Object(b["a"])(t,[{key:"init",value:function(){this.inited||(this.initState(),this.initDependencyModel(),this.initApolloQuery(),this.initSubscriptions(),this.vm=this.$vm,this.inited=!0)}},{key:"initState",value:function(){T(this)}},{key:"initDependencyModel",value:function(){var t=this;this.models&&Object.keys(this.models).forEach(function(e){Object.defineProperty(t,e,{get:function(){return t.$store.getModelInstance(t.models[e]).instance},configurable:!0})})}},{key:"initApolloQuery",value:function(){var t=this,e=[],n=Object.getPrototypeOf(this);while(n!==Object.prototype){var r=Object.keys(n).filter(function(t){return n[t]&&"apolloQuery"===n[t]._type});e.push.apply(e,Object(w["a"])(r)),n=Object.getPrototypeOf(n)}e.length&&e.forEach(function(e){var n=new E(e,t[e].detail,t.$client,t,t.$vm);t.$apollo[e]=n;var r=D(t[e].detail);g(t,e,r);var i=n.currentResult();i.loading||(t[e]=i.data),t.$streamsFromApollo[e+"$"]=n.observable.debug(function(n){var r=n.data;t[e]=r})})}},{key:"initSubscriptions",value:function(){var t=this;if(this.subscriptions){var e="function"===typeof this.subscriptions?this.subscriptions():this.subscriptions;Object.assign(this.$streamsFromSubscriptions,e),Object.freeze(this.$streamsFromSubscriptions),Object.keys(this.$streamsFromSubscriptions).forEach(function(e){var n=e.lastIndexOf("$")===e.length-1?e.slice(0,-1):e;n in t||g(t,n,null);var r=t.$streamsFromSubscriptions[e].subscribe({next:function(e){t[n]=e}});t.subs.push(r)})}}},{key:"startSubscriptions",value:function(){var t=this;Object.keys(this.$streamsFromApollo).forEach(function(e){var n=t.$streamsFromApollo[e].subscribe({});t.subs.push(n)})}},{key:"prefetch",value:function(){var t=this,e=Object.keys(this.$apollo).map(function(e){return t.$apollo[e].prefetch()});return Promise.all(e)}},{key:"destroy",value:function(){var t=this;this.subs.forEach(function(t){return t.unsubscribe()}),Object.keys(this.$apollo).forEach(function(e){t.$apollo[e].destroy()})}},{key:"$streams",get:function(){return Q({},this.$streamsFromApollo,{},this.$streamsFromSubscriptions,{},this.$streamsFromState)}}]),t}();function T(t){Object.keys(t).forEach(function(e){if(!(e.startsWith("$")||e.startsWith("_")||e.endsWith("$")||A.includes(e))){var n=Object.getOwnPropertyDescriptor(t,e)||{};"function"!==typeof n.value&&I(t,e)}})}function I(t,e){var n,r=t[e];t.$streamsFromState[e+"$"]=S.a.create({start:function(t){n=t,n.next(r)},stop:function(){n=null}}),g(t,e,r,function(){Promise.resolve().then(function(){n&&n.next(t[e])})})}function W(t){return function(e,n){e[n]={_type:"apolloQuery",detail:t}}}var H={install:j},V=n("9530"),z=n.n(V);function J(){var t=Object(y["a"])(["\n            query helloQuery {\n                hello {\n                    email\n                }\n            }\n        "]);return J=function(){return t},t}function L(){var t=Object(y["a"])(["\n                mutation($email: String) {\n                    add(info: { email: $email }) {\n                        email\n                    }\n                }\n            "]);return L=function(){return t},t}var N=function(t){function e(){return Object(s["a"])(this,e),Object(a["a"])(this,Object(c["a"])(e).apply(this,arguments))}return Object(u["a"])(e,t),Object(b["a"])(e,[{key:"add",value:function(){var t=Object(O["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",this.$client.mutate({mutation:z()(L()),variables:{email:e},updateQueries:{helloQuery:function(t,e){var n=e.mutationResult,r=n.data.add;return{hello:t.hello.concat(r)}}}}));case 1:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}()}]),e}(C);l["c"]([W({query:z()(J()),initState:{hello:[]},prefetch:!0})],N.prototype,"helloQuery",void 0);var B=function(t){function e(){var t;return Object(s["a"])(this,e),t=Object(a["a"])(this,Object(c["a"])(e).apply(this,arguments)),t.email="",t}return Object(u["a"])(e,t),Object(b["a"])(e,[{key:"submit",value:function(){this.helloModel.add(this.email)}},{key:"list",get:function(){return this.helloModel.helloQuery.hello}}]),e}(h["b"]);l["c"]([d(N)],B.prototype,"helloModel",void 0),B=l["c"]([h["a"]],B);var U=B,G=U,K=(n("e626"),n("2877")),X=Object(K["a"])(G,f,p,!1,null,"9e25c378",null),Y=X.exports,Z=function(t){function e(){return Object(s["a"])(this,e),Object(a["a"])(this,Object(c["a"])(e).apply(this,arguments))}return Object(u["a"])(e,t),e}(h["b"]);Z=l["c"]([Object(h["a"])({components:{HelloWorld:Y}})],Z);var tt=Z,et=tt,nt=(n("034f"),Object(K["a"])(et,i,o,!1,null,null,null)),rt=nt.exports,it=n("74ca"),ot=n("2bf2"),st=n("478e"),at="http://wonderapp.cn:4000/graphql";function ct(){var t=new st["a"]({uri:at}),e=new ot["a"];return new it["a"]({link:t,cache:e})}r["a"].config.productionTip=!1;var ut=ct(),lt=new k(ut);r["a"].use(H,{store:lt}),new r["a"]({render:function(t){return t(rt)}}).$mount("#app")},cf05:function(t,e,n){t.exports=n.p+"img/logo.82b9c7a5.png"},e626:function(t,e,n){"use strict";var r=n("1a95"),i=n.n(r);i.a}});
//# sourceMappingURL=app.4046138d.js.map