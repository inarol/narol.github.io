angular.module("ui.message",[]).factory("$messageFactory",[function(){var e,a,s={},i=[{type:"success"},{type:"error"},{type:"loading"},{type:"warning"}];return s.removeMessage=function(){$("#ui-message-mask-"+a).remove(),$("#ui-message-"+a).remove()},s.slideUpMessage=function(){var e=this,s=$("#ui-message-"+a);s.animate({top:-s.outerHeight()},200,"swing",function(){e.removeMessage()})},s.popMessage=function(s){var t=this;if(this.removeMessage(),a=((1+Math.random())*(new Date).getTime()|0).toString(16).substring(1),s.mask){var n=angular.element("<div class='ui-message-mask' id='ui-message-mask-"+a+"'></div>");n.css("z-index",a),angular.element(document.body).append(n)}var m=angular.element("<div class='ui-message' id='ui-message-"+a+"'>"+s.message+"</div>");angular.element(document.body).append(m);var r=i[s.type||0]||i[0];$(m).css({"z-index":(new Date).getTime(),marginLeft:-$(m).outerWidth()/2}).addClass(r.type),s.time&&(clearTimeout(e),e=setTimeout(function(){angular.isFunction(s.callback)&&s.callback(),t.slideUpMessage(),clearTimeout(e)},s.time))},s}]);